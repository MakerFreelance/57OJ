<!DOCTYPE html>
<html>
<head>
	<title>
	dataPointLabelCreating Event Example - JavaScript Chart by DataViz Charts
</title>
	<link rel="stylesheet" type="text/css" href="../../css/dataviz.chart.css" />
	<link rel="stylesheet" type="text/css" href="../../themes/le-frog/styles.css" />
	<script src="../../js/dataviz.chart.min.js" type="text/javascript"></script>
	
	<script lang="javascript" type="text/javascript">

		function addCommas(nStr) {
			nStr += '';
			x = nStr.split('.');
			x1 = x[0];
			x2 = x.length > 1 ? '.' + x[1] : '';
			var rgx = /(\d+)(\d{3})/;

			while (rgx.test(x1)) {
				x1 = x1.replace(rgx, '$1' + ',' + '$2');
			}

			return x1 + x2;
		}

		var background = {
			type: 'linearGradient',
			x0: 0,
			y0: 0,
			x1: 0,
			y1: 1,
			colorStops: [
				{ offset: 0, color: '#d2e6c9' },
				{ offset: 1, color: 'white' }
			]
		};

		var fillStyle = {
			type: 'linearGradient',
			x0: 0,
			y0: 0,
			x1: 1,
			y1: 0,
			colorStops: [
				{ offset: 0, color: '#65c2e8' },
				{ offset: 0.49, color: '#55b3e1' },
				{ offset: 0.5, color: '#3ba6dc' },
				{ offset: 1, color: '#2794d4' }
			]
		};

		var chart = new DataViz.Chart({
			title: 'dataPointLabelCreating Event',
			border: { strokeStyle: '#6ba851' },
			background: background,
			animation: { duration: 1 },
			series: [
				{
					type: 'column',
					title: 'Column',
					data: [['A', 4600], ['B', 3500], ['C', 6800], ['D', 4000],
						   ['E', 2700], ['F', 8500], ['D', 4300], ['H', 2900]],
					labels: {
						fillStyle: 'red',
						font: '11px sans-serif'
					}
				}
			]
		});

		chart.addEventListener('tooltipFormat', function (e, data) {
			e.result = '$' + addCommas(data.y);
		});

		chart.addEventListener('dataPointLabelCreating', function (event, data) {
			data.text = '$' + addCommas(data.text);
		});

		chart.write('container');
	</script>

</head>
<body>
	<div>
		<div id="container" style="width: 500px; height: 300px;">
		</div>
	</div>
</body>
</html>
